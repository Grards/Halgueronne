{% extends 'base.html.twig' %}

{% block title %}Halgueronne - Connexion{% endblock %}

{% block body %}
    <div id="login-index-page" class="slide pb-5">
        <div class="container">
            {% include 'partials/title.html.twig' %}
            <div class="row">
                <h2>Connexion</h2>
            </div>
            <div class="container-content">
                <!-- En cas d'erreur détectée lors de la tentative de connexion -->
                {% if hasError %} 
                    <div class="alert alert-danger text-center">
                        Votre login ou mot de passe est incorrect ! Nous ne pouvons pas vous connecter.
                    </div> 
                {% endif %}
                <!-- Symfony intercepte les données du formulaire grâce au path('account_login'), défini dans le fichier security.yaml, au niveau des login_path / login_check, dans firewalls -->
                <form action="{{ path('account_login') }}" method="POST"> 
                    <div class="form-group"> 
                        <label for="login">Login</label> <input type="text" class="form-control" placeholder="Login..." name="_username" value="{{ login }}" id="login" required> 
                    </div> 
                    <div class="form-group"> 
                        <label for="password">Mot de passe</label> <input type="password" name="_password" id="password" placeholder="Mot de passe..." class="form-control" required> 
                    </div> 
                    <div class="form-group"> 
                        <button type="submit" class="btn btn-success">Me connecter</button> 
                        <a href="{{ path('home')}}" class="btn btn-danger">Retour</a>
                    </div> 
                </form>
            </div>
        </div>
    </div>
{% endblock %}
